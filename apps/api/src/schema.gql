# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

"""Auth response with tokens"""
type AuthResponse {
  accessToken: String
  message: String
  refreshToken: String
  success: Boolean!
  user: User
}

type AvailabilityCalendar {
  basePriceDaily: Float!
  calendar: [CalendarDay!]!
  roomTypeId: String!
  roomTypeName: String!
  totalRooms: Int!
}

"""Booking entity"""
type Booking {
  assignedRoomId: String
  bookingNumber: String!
  bookingType: BookingType!
  cancellationReason: String
  cancelledAt: DateTime
  checkInDate: DateTime!
  checkInTime: String
  checkOutDate: DateTime
  checkOutTime: String
  commissionAmount: Float!
  createdAt: DateTime!
  discountAmount: Float!
  extraGuestTotal: Float!
  guestEmail: String!
  guestId: String!
  guestName: String!
  guestPhone: String!
  hotel: BookingHotel
  hotelId: String!
  hotelPayout: Float!
  id: ID!
  numExtraGuests: Int!
  numGuests: Int!
  numHours: Int
  numRooms: Int!
  paymentStatus: PaymentStatus!
  payments: [Payment!]
  roomTotal: Float!
  roomType: BookingRoomType
  roomTypeId: String!
  source: BookingSource!
  specialRequests: String
  status: BookingStatus!
  taxes: Float!
  totalAmount: Float!
  updatedAt: DateTime!
}

"""Filters for listing bookings"""
input BookingFiltersInput {
  bookingType: BookingType
  fromDate: DateTime
  guestId: String
  hotelId: String
  search: String
  status: BookingStatus
  toDate: DateTime
}

type BookingHotel {
  address: String!
  city: String!
  id: ID!
  name: String!
  phone: String!
  slug: String!
}

"""Booking model type"""
enum BookingModel {
  BOTH
  DAILY
  HOURLY
}

"""Pagination for bookings list"""
input BookingPaginationInput {
  limit: Int! = 20
  page: Int! = 1
}

"""Booking creation result"""
type BookingResult {
  booking: Booking
  message: String
  paymentAmount: Float
  paymentOrderId: String
  success: Boolean!
}

type BookingRoomType {
  id: ID!
  images: [String!]!
  name: String!
  slug: String!
}

"""Source of the booking"""
enum BookingSource {
  BLUESTAY
  DIRECT
  WALK_IN
}

"""Status of the booking"""
enum BookingStatus {
  CANCELLED
  CHECKED_IN
  CHECKED_OUT
  CONFIRMED
  NO_SHOW
  PENDING
}

"""Type of booking (daily or hourly)"""
enum BookingType {
  DAILY
  HOURLY
}

type CalendarDay {
  available: Int!
  date: String!
  isClosed: Boolean!
  price: Float!
}

"""Input for cancelling a booking"""
input CancelBookingInput {
  bookingId: String!
  reason: String!
}

"""Change password for logged in user"""
input ChangePasswordInput {
  currentPassword: String!
  newPassword: String!
}

"""Input for checking room availability"""
input CheckAvailabilityInput {
  checkInDate: DateTime!
  checkOutDate: DateTime
  hotelId: String!
  numGuests: Int! = 2
  numRooms: Int! = 1
  roomTypeId: String
}

"""Input for checking hourly slot availability"""
input CheckHourlyAvailabilityInput {
  date: DateTime!
  hotelId: String!
  numHours: Int! = 3
  numRooms: Int! = 1
  roomTypeId: String
  startTime: String
}

"""Input for creating a daily booking"""
input CreateDailyBookingInput {
  checkInDate: DateTime!
  checkOutDate: DateTime!
  couponCode: String
  guestInfo: GuestInfoInput!
  hotelId: String!
  numExtraGuests: Int! = 0
  numGuests: Int! = 2
  numRooms: Int! = 1
  roomTypeId: String!
  source: BookingSource! = BLUESTAY
  specialRequests: String
}

"""Input for creating an hourly booking"""
input CreateHourlyBookingInput {
  checkInTime: String!
  date: DateTime!
  guestInfo: GuestInfoInput!
  hotelId: String!
  numGuests: Int! = 2
  numHours: Int!
  numRooms: Int! = 1
  roomTypeId: String!
  source: BookingSource! = BLUESTAY
  specialRequests: String
}

type DailyAvailabilityResult {
  checkIn: DateTime!
  checkOut: DateTime!
  hotelId: String!
  nights: Int!
  numRooms: Int!
  roomTypes: [RoomTypeAvailability!]!
  unavailableRoomTypes: [RoomTypeAvailability!]!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type DeactivateResponse {
  message: String!
  success: Boolean!
}

"""Guest information for booking"""
input GuestInfoInput {
  email: String!
  name: String!
  phone: String!
}

"""Hotel entity"""
type Hotel {
  address: String!
  averageRating: Float
  bookingModel: BookingModel!
  checkInTime: String!
  checkOutTime: String!
  city: String!
  commissionRate: Float
  country: String!
  createdAt: DateTime!
  description: String
  domains: [HotelDomain!]
  email: String!
  heroImageUrl: String
  hourlyMaxHours: Int!
  hourlyMinHours: Int!
  id: ID!
  isActive: Boolean!
  isFeatured: Boolean!
  latitude: Float
  logoUrl: String
  longitude: Float
  name: String!
  phone: String!
  pincode: String!
  reviewCount: Int
  reviews: [Review!]
  roomTypes: [RoomType!]
  slug: String!
  starRating: Int!
  startingPrice: Float
  state: String!
  themeConfig: JSON
  updatedAt: DateTime!
  whatsapp: String
}

"""Hotel domain mapping"""
type HotelDomain {
  domain: String!
  id: ID!
  isPrimary: Boolean!
  sslStatus: String!
}

input HotelFiltersInput {
  amenities: [String!]
  checkInDate: DateTime
  checkOutDate: DateTime
  city: String
  guests: Int
  isFeatured: Boolean
  maxPrice: Float
  minPrice: Float
  minRating: Int
  search: String
  state: String
}

input HotelPaginationInput {
  limit: Int! = 12
  page: Int! = 1
  sortBy: HotelSortBy = FEATURED
  sortOrder: SortOrder = DESC
}

"""Field to sort hotels by"""
enum HotelSortBy {
  CREATED_AT
  FEATURED
  NAME
  PRICE
  RATING
}

type HourlyAvailabilityResult {
  date: DateTime!
  hotelId: String!
  numHours: Int!
  numRooms: Int!
  roomTypes: [HourlyRoomTypeAvailability!]!
}

type HourlyRoomTypeAvailability {
  isAvailable: Boolean!
  maxHours: Int!
  minHours: Int!
  roomType: HourlyRoomTypeSummary!
  slots: [HourlySlotInfo!]!
}

type HourlyRoomTypeSummary {
  amenities: [String!]
  basePriceHourly: Float
  id: ID!
  images: [String!]
  name: String!
}

type HourlySlotInfo {
  available: Int!
  endTime: String!
  isClosed: Boolean!
  price: Float!
  startTime: String!
}

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON @specifiedBy(url: "http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf")

"""Login with email and password"""
input LoginInput {
  email: String!
  password: String!
}

type LogoutResponse {
  message: String!
  success: Boolean!
}

type Mutation {
  """Cancel a booking"""
  cancelBooking(input: CancelBookingInput!): Booking!

  """Change password for logged in user"""
  changePassword(input: ChangePasswordInput!): LogoutResponse!

  """Create a daily booking"""
  createDailyBooking(input: CreateDailyBookingInput!): BookingResult!

  """Create an hourly booking"""
  createHourlyBooking(input: CreateHourlyBookingInput!): BookingResult!

  """Deactivate current user's account"""
  deactivateMyAccount: DeactivateResponse!

  """Login with email and password"""
  login(input: LoginInput!): AuthResponse!

  """Logout and revoke refresh token"""
  logout: LogoutResponse!

  """Refresh access token using refresh token"""
  refreshToken(input: RefreshTokenInput!): AuthResponse!

  """Register a new user"""
  register(input: RegisterInput!): AuthResponse!

  """Request OTP for phone login"""
  requestOTP(input: RequestOTPInput!): OTPResponse!

  """Update booking status"""
  updateBookingStatus(input: UpdateBookingStatusInput!): Booking!

  """Update user profile"""
  updateProfile(input: UpdateProfileInput!): User!

  """Verify OTP and login/register"""
  verifyOTP(input: VerifyOTPInput!): AuthResponse!
}

"""OTP send response"""
type OTPResponse {
  expiresAt: DateTime
  message: String!
  success: Boolean!
}

"""Paginated bookings result"""
type PaginatedBookings {
  bookings: [Booking!]!
  hasMore: Boolean!
  limit: Int!
  page: Int!
  total: Int!
}

"""Paginated hotels response"""
type PaginatedHotels {
  hasMore: Boolean!
  hotels: [Hotel!]!
  limit: Int!
  page: Int!
  total: Int!
}

"""Payment entity"""
type Payment {
  amount: Float!
  bookingId: String!
  createdAt: DateTime!
  currency: String!
  gateway: String!
  gatewayOrderId: String
  gatewayPaymentId: String
  id: ID!
  metadata: JSON
  refundAmount: Float!
  refundId: String
  status: String!
  updatedAt: DateTime!
}

"""Payment status of the booking"""
enum PaymentStatus {
  FAILED
  PAID
  PARTIALLY_REFUNDED
  PENDING
  REFUNDED
}

type PopularCity {
  city: String!
  hotelCount: Int!
  state: String!
}

type Query {
  """Get availability calendar for a room type"""
  availabilityCalendar(endDate: DateTime!, roomTypeId: ID!, startDate: DateTime!): AvailabilityCalendar!

  """Get booking by ID"""
  booking(id: ID!): Booking!

  """Get booking by booking number"""
  bookingByNumber(bookingNumber: String!): Booking!

  """List bookings with filters"""
  bookings(filters: BookingFiltersInput, pagination: BookingPaginationInput): PaginatedBookings!

  """Check room availability for daily booking"""
  checkDailyAvailability(input: CheckAvailabilityInput!): DailyAvailabilityResult!

  """Check room availability for hourly booking"""
  checkHourlyAvailability(input: CheckHourlyAvailabilityInput!): HourlyAvailabilityResult!

  """Get featured hotels"""
  featuredHotels(limit: Float = 6): [Hotel!]!

  """Get hotel by ID"""
  hotel(id: ID!): Hotel!

  """Get hotel by domain for white-label sites"""
  hotelByDomain(domain: String!): Hotel

  """Get hotel by slug"""
  hotelBySlug(slug: String!): Hotel

  """Get paginated hotels"""
  hotels(filters: HotelFiltersInput, pagination: HotelPaginationInput): PaginatedHotels!

  """Get current logged in user"""
  me: User!

  """Get current user's bookings"""
  myBookings(limit: Int = 10, offset: Int = 0): [Booking!]!

  """Get current user's reviews"""
  myReviews(limit: Int = 10, offset: Int = 0): [Review!]!

  """Get popular cities"""
  popularCities(limit: Float = 10): [PopularCity!]!

  """Get room type by ID"""
  roomType(id: ID!): RoomType!

  """Get room types for a hotel"""
  roomTypes(filters: RoomTypeFiltersInput, hotelId: ID!): [RoomType!]!

  """Quick search hotels"""
  searchHotels(limit: Float = 10, query: String!): [Hotel!]!

  """Get current user profile"""
  userProfile: User!
}

"""Refresh token input"""
input RefreshTokenInput {
  refreshToken: String!
}

"""Register new user"""
input RegisterInput {
  email: String!
  name: String!
  password: String!
  phone: String
}

"""Request OTP for phone login"""
input RequestOTPInput {
  phone: String!
}

"""Guest review entity"""
type Review {
  bookingId: String!
  comment: String
  createdAt: DateTime!
  guest: ReviewGuest
  guestId: String!
  hotelId: String!
  hotelReply: String
  id: ID!
  isPublished: Boolean!
  isVerified: Boolean!
  photos: [String!]!
  rating: Int!
  title: String
  updatedAt: DateTime!
}

type ReviewGuest {
  avatarUrl: String
  name: String!
}

"""Room type entity"""
type RoomType {
  amenities: [String!]!
  availableTonight: Int
  basePriceDaily: Float!
  basePriceHourly: Float
  bookingModelOverride: BookingModel
  createdAt: DateTime!
  description: String
  extraGuestCharge: Float!
  hotelId: String!
  id: ID!
  images: [String!]!
  isActive: Boolean!
  maxExtraGuests: Int!
  maxGuests: Int!
  maxHours: Int
  minHours: Int
  name: String!
  slug: String!
  sortOrder: Int!
  totalRooms: Int!
  updatedAt: DateTime!
}

type RoomTypeAvailability {
  isAvailable: Boolean!
  minAvailable: Int!
  nights: Int!
  pricePerNight: Float!
  roomType: RoomTypeSummary!
  totalPrice: Float!
}

"""Input for fetching room types"""
input RoomTypeFiltersInput {
  amenities: [String!]
  hotelId: String
  includeHourly: Boolean
  maxPrice: Float
  minGuests: Int
  minPrice: Float
}

type RoomTypeSummary {
  amenities: [String!]!
  basePriceDaily: Float!
  id: ID!
  images: [String!]!
  maxGuests: Int!
  name: String!
  slug: String!
}

"""Sort order"""
enum SortOrder {
  ASC
  DESC
}

"""Input for updating booking status"""
input UpdateBookingStatusInput {
  assignedRoomId: String
  bookingId: String!
  status: BookingStatus!
}

"""Update user profile input"""
input UpdateProfileInput {
  avatarUrl: String
  email: String
  name: String
  phone: String
}

"""User entity"""
type User {
  avatarUrl: String
  createdAt: DateTime!
  email: String
  emailVerified: Boolean!
  hotelId: String
  id: ID!
  isActive: Boolean!
  lastLoginAt: DateTime
  name: String!
  phone: String
  phoneVerified: Boolean!
  role: UserRole!
  updatedAt: DateTime!
}

"""User role type"""
enum UserRole {
  GUEST
  HOTEL_ADMIN
  HOTEL_STAFF
  PLATFORM_ADMIN
}

"""Verify OTP"""
input VerifyOTPInput {
  otp: String!
  phone: String!
}